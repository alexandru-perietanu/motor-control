<!DOCTYPE html>
<html>

<head>
    <title>Title of the document</title>
    <script>
        document.addEventListener("DOMContentLoaded", start);
        var ctx;
        var iterationStep = Math.PI * 2 / 255;
        var pointsArray = [];
        var count = 0;
        var s2;
        var frequenciesForPreload = {};
        var preloadHash = {};

        function start() {
            var canvas = document.getElementsByTagName("canvas")[0];
            var ctx = canvas.getContext("2d");
            var s = "";
            for (var i = 0; i < Math.PI * 2; i += iterationStep) {
                pointsArray.push(Math.floor(Math.sin(i) * 127 + 128));

                s += (Math.floor(pointsArray[pointsArray.length - 1] * (1900 - 13) / 255 + 13)) + ", ";

                ctx.beginPath();
                ctx.arc(count, pointsArray[pointsArray.length - 1], 5, 0, 2 * Math.PI);
                ctx.stroke();
                count++;
            }

            console.log(pointsArray.join(", "));
            console.log(s);

            var minVal = 60652;
            var maxVal = 65508;
            s2 = "";
            
            for (var i = 1; i <= 100; i++) {

                preloadHash[i] = Math.floor(65535 - (1 / (i * 0.0002)));

                let val =  Math.floor(map(i, 0, 99, minVal, maxVal));
                frequenciesForPreload[val] = 1 / ((65535 - val) * 0.0002048);
                if (i < 99) {
                    s2 += val + ", ";
                } else {
                    s2 += val;
                }
                    
            }
            console.log(s2);
            console.table(frequenciesForPreload);
            console.table(preloadHash);
            

            function map(x, in_min, in_max, out_min, out_max) {
                return (x - in_min) * ((out_max - out_min) / (in_max - in_min)) + out_min;
            }
            

        }
    </script>
</head>

<body>
    <canvas height="500"></canvas>
</body>

</html>